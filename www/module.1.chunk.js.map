{"version":3,"sources":["/Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/login.component.html","/Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/login.component.ts","/Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/module.ts","/Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/route.ts"],"names":[],"mappings":"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","file":"module.1.chunk.js","sourcesContent":["module.exports = \"<form action=\\\"#\\\" (submit)=\\\"submitLogUser()\\\">\\n\\n  <fieldset>\\n    <label for=\\\"userEmail\\\">Email <em><span>Champ obligatoire</span><span [ngClass]=\\\"{'open': errorMsg.invalidUser}\\\">Utilisateur inconnu</span></em></label>\\n    <input type=\\\"text\\\" id=\\\"userEmail\\\" (focus)=\\\"errorMsg.email = false; errorMsg.invalidUser = false\\\" [(ngModel)]=\\\"userLoginObject.email\\\" name=\\\"email\\\">\\n\\n    <label for=\\\"userPassword\\\">Mot de passe <em><span [ngClass]=\\\"{'open': errorMsg.password}\\\">Champ obligatoire</span><span [ngClass]=\\\"{'open': errorMsg.invalidPassword}\\\">Mot de passe non valide</span></em></label>\\n    <input type=\\\"password\\\" id=\\\"userPassword\\\" (focus)=\\\"errorMsg.password = false; errorMsg.invalidPassword = false\\\" [(ngModel)]=\\\"userLoginObject.password\\\" name=\\\"password\\\">\\n\\n    <button type=\\\"submit\\\">Connexion</button>\\n  </fieldset>\\n\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/login.component.html\n// module id = ../../../../../src/app/components/login/login.component.html\n// module chunks = module.1","/*\nConfiguration du composants\n*/\n  // Import des interfaces\n  import { Component, OnInit } from '@angular/core';\n  import { Router } from '@angular/router';\n\n  // Import des modules\n  import { AuthService } from '../../services/auth/auth.service';\n  import { UserLoginModel } from '../../models/user.login';\n  import { LoginFormModel } from '../../models/login.form';\n\n  // Définition du composant\n  @Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    providers: [ AuthService ]\n  })\n// \n\n\n/*\nExport du composant\n*/\n  export class LoginComponent implements OnInit {\n    // Configuration du constructeur\n    constructor( \n      private myService: AuthService,\n      private router: Router\n    ) {};\n\n    // Définition des variables\n    public userLoginObject: UserLoginModel = { email: null, password: null };\n    public errorMsg: LoginFormModel = { errors: 0, email: false, password: false, invalidUser: false, invalidPassword: false };\n    \n    \n\n    // Création d'une fonction pour connecter l'utilisateur\n    public submitLogUser(): void{\n      // Vider les erreurs\n      this.errorMsg.errors = 0;\n\n      // Vérification des informations saisies\n      if( this.userLoginObject.email == null || this.userLoginObject.email.length == 0){\n        // Email manquant\n        this.errorMsg.email = true;\n        this.errorMsg.errors++;\n      }\n      \n      if( this.userLoginObject.password == null || this.userLoginObject.password.length == 0){\n        // Password manquant\n        this.errorMsg.password = true;\n        this.errorMsg.errors++;\n      }\n      \n      if(this.errorMsg.errors === 0){ \n        // => Formulaire validé\n        this.myService.userLogin(this.userLoginObject).then(user => {\n          localStorage.setItem('DWStoken', user.token);\n          this.router.navigateByUrl('/dashboard');\n          \n        }).catch(error => {\n          if(error.status === 404){\n            // Utilisateur inconnu\n            this.errorMsg.invalidUser = true;\n\n          } else if(error.status === 401){\n            // Mot de passe invalide\n            this.errorMsg.invalidPassword = true;\n\n          }\n        })\n      }\n    }\n\n\n    ngOnInit() {}\n\n  }\n// \n\n\n// WEBPACK FOOTER //\n// /Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/login.component.ts","/*\nConfiguration du composants\n*/\n  // Import des interfaces\n  import { NgModule } from '@angular/core';\n  import { CommonModule } from '@angular/common';\n  import { FormsModule } from '@angular/forms';\n\n  // Importer les composants\n  import { LoginComponent } from './login.component';\n  import { Routing } from './route';\n\n  // Définition du module\n  @NgModule({\n    declarations: [ LoginComponent ],\n    imports: [ FormsModule, CommonModule, Routing ]\n  })\n//\n\n\n/*\nExport du module\n*/\n  export class LoginModule { };\n// \n\n\n// WEBPACK FOOTER //\n// /Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/module.ts","// Importer les classes pour définir les routes\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n// Importer les composants à utiliser dans les routes\nimport { LoginComponent } from './login.component';\n\n// Créer une constante pour définir le comportement des routes\nconst appRoutes: Routes = [\n    {\n        path: '',\n        component: LoginComponent\n    }\n]\n\n// Exporter une autre constante pour utiliser les routes\nexport const Routing: ModuleWithProviders = RouterModule.forChild(appRoutes);\n\n\n// WEBPACK FOOTER //\n// /Users/dwsparis/Documents/htdocs/PROJETS/MEANsocial/ANGclient/src/app/components/login/route.ts"],"sourceRoot":"webpack:///"}